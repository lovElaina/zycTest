<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.system.mapper.SysAttendLogMapper">

    <resultMap type="SysAttendLog" id="SysAttendLogResult">
        <result property="logId"       column="log_id"       />
        <result property="attendId"    column="attend_id"    />
        <result property="attendDate"     column="attend_date"     />
        <result property="workTime"  column="work_time"  />
        <result property="restTime"  column="rest_time"  />
        <result property="result"         column="result"          />
        <result property="createBy"       column="create_by"       />
        <result property="createTime"     column="create_time"     />
        <result property="updateBy"       column="update_by"       />
        <result property="updateTime"     column="update_time"     />
        <result property="remark"         column="remark"          />
    </resultMap>


    <select id="selectAttendLogListByAttendId" parameterType="Long" resultMap="SysAttendLogResult">
        select al.log_id, al.attend_id, al.attend_date, al.work_time, al.rest_time, al.result, al.create_by, al.create_time, al.update_by, al.update_time, al.remark
        from sys_attend_log al
        where al.attend_id = #{attendId}
    </select>


    <insert id="insertAttendLog" parameterType="SysAttendLog">
        insert into sys_attend_log (
        <if test="attendId != null and attendId != '' ">attend_id, </if>
        <if test="attendDate != null and attendDate != '' ">attend_date, </if>
        <if test="workTime != null and workTime != '' ">work_time, </if>
        <if test="restTime != null and restTime != '' ">rest_time, </if>
        <if test="result != null and result != ''">result ,</if>
        <if test="createBy != null and createBy != ''">create_by,</if>
        create_time
        )values(
        <if test="attendId != null and attendId != '' ">#{attendId}, </if>
        <if test="attendDate != null and attendDate != '' ">#{attendDate}, </if>
        <if test="workTime != null and workTime != '' ">#{workTime}, </if>
        <if test="restTime != null and restTime != '' ">#{restTime}, </if>
        <if test="result != null and result != ''">#{result} ,</if>
        <if test="createBy != null and createBy != ''">#{createBy},</if>
        sysdate()
        )
    </insert>

    <update id="updateAttendLog" parameterType="SysAttendLog">
        update sys_attend_log
        <set>
            <if test="attendId != null and attendId != '' ">attend_id = #{attendId}, </if>
            <if test="attendDate != null and attendDate != '' ">attend_date = #{attendDate}, </if>
            <if test="workTime != null and workTime != '' ">work_time = #{workTime}, </if>
            <if test="restTime != null and restTime != '' ">rest_time = #{restTime}, </if>
            <if test="result != null and result != ''">result = #{result} ,</if>
            <if test="createBy != null and createBy != ''">create_by = #{createBy},</if>
            update_time = sysdate()
        </set>
        where log_id = #{logId}
    </update>

<!--    <update id="updateNotice" parameterType="SysNotice">-->
<!--        update sys_notice-->
<!--        <set>-->
<!--            <if test="noticeTitle != null and noticeTitle != ''">notice_title = #{noticeTitle}, </if>-->
<!--            <if test="noticeType != null and noticeType != ''">notice_type = #{noticeType}, </if>-->
<!--            <if test="noticeContent != null">notice_content = #{noticeContent}, </if>-->
<!--            <if test="status != null and status != ''">status = #{status}, </if>-->
<!--            <if test="updateBy != null and updateBy != ''">update_by = #{updateBy},</if>-->
<!--            update_time = sysdate()-->
<!--        </set>-->
<!--        where notice_id = #{noticeId}-->
<!--    </update>-->

<!--    <delete id="deleteNoticeById" parameterType="Long">-->
<!--        delete from sys_notice where notice_id = #{noticeId}-->
<!--    </delete>-->


</mapper>